<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Zack&#39;s Notablog | Average chocolate chip cookies</title><meta name=description content><meta name=image content><meta itemprop=name content="Average chocolate chip cookies"><meta itemprop=description content><meta itemprop=image content><meta name=twitter:card content=summary><meta name=twitter:title content="Average chocolate chip cookies"><meta name=twitter:description content><meta name=twitter:site content=@yakczar><meta name=twitter:creator content=@yakczar><meta name=twitter:image:src content><meta name=og:title content="Average chocolate chip cookies"><meta name=og:description content><meta name=og:url content=/average-cookies/><meta name=og:site_name content="Average chocolate chip cookies"><meta name=og:type content=article><meta name=article:author content=yakczar><meta name=article:tag content="food coding"><link rel=stylesheet href=/css/style4.css><script src=/js/caption.js></script><link rel=icon type=image/png href=/img/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/img/favicon/favicon-16x16.png sizes=16x16><script>function getJSON(url){var script=document.createElement('script');script.setAttribute('src',url);script.setAttribute('type','text/javascript');document.getElementsByTagName('head')[0].appendChild(script);}
function cbfunc(data1){console.log(data1);var quoteP=document.getElementById("quoteP");quoteP.innerHTML="<em>“"+data1.text+"” - "+data1.name+"</em>";}
getJSON("https:\/\/randomquote.schollz.com?callback=cbfunc")</script><img src="https://analytics.schollz.com/1.png?page=%2faverage-cookies%2f" width=1px height=1px style=float:right><div id=header><div class=left></div><div class=right></div></div><script>var elements=document.querySelectorAll("img");Array.prototype.forEach.call(elements,function(el,i){if(el.getAttribute("alt")){const caption=document.createElement('figcaption');var node=document.createTextNode(el.getAttribute("alt"));caption.appendChild(node);const wrapper=document.createElement('figure');wrapper.className='image';el.parentNode.insertBefore(wrapper,el);el.parentNode.removeChild(el);wrapper.appendChild(el);wrapper.appendChild(caption);}});</script><div id=documentbody><div class=wtblog><div class=maintext><div class="wikitext titlehack"><h1>Average chocolate chip cookies</h1><div class=posttitle><small>March 23, 2018</small></div></div><div class=wikitext><p>I recently wrote <a href=/consensus-cookery/>a program to determine consensus recipes</a>. It scrapes the web for a thousand recipes for a given recipe (e.g. cookies), then clusters the recipes and finally computes an average ingredient list for each cluster. This idea was prompted by making brownies, because I wasn&rsquo;t sure whether to use cocoa, chocolate, or both. Turns out there is <a href=https://github.com/schollz/consensus-cookery#brownies>a recipe for each variation of brownie</a>.<p>I decided to try out my software in the real world. What would one of these average recipes taste like? To see, I computed the average recipes for &ldquo;chocolate chip cookies&rdquo; and took the second largest cluster because it had both baking powder and baking soda.<p><strong>The computed average chocolate chip cookie recipe:</strong><table><thead><tr><th>Ingredient<th>Amount<th>Variation<th>Rel. Freq.<tbody><tr><td>baking powder<td>1 tsp<td>± 1 <sup>3</sup>&frasl;<sub>8</sub><td>95<tr><td>baking soda<td><sup>3</sup>&frasl;<sub>4</sub> tsp<td>± <sup>3</sup>&frasl;<sub>8</sub><td>75<tr><td>brown sugar<td><sup>7</sup>&frasl;<sub>8</sub> cup<td>± <sup>3</sup>&frasl;<sub>8</sub><td>99<tr><td>butter<td><sup>5</sup>&frasl;<sub>8</sub> cup<td>± <sup>1</sup>&frasl;<sub>2</sub><td>97<tr><td>chocolate<td>1 cup<td>± <sup>5</sup>&frasl;<sub>8</sub><td>109<tr><td>eggs<td>2 whole<td>± <sup>3</sup>&frasl;<sub>4</sub><td>105<tr><td>flour<td>1 <sup>1</sup>&frasl;<sub>4</sub> cup<td>± <sup>7</sup>&frasl;<sub>8</sub><td>116<tr><td>salt<td><sup>5</sup>&frasl;<sub>8</sub> tsp<td>± <sup>1</sup>&frasl;<sub>2</sub><td>86<tr><td>sugar<td><sup>3</sup>&frasl;<sub>8</sub> cup<td>± <sup>1</sup>&frasl;<sub>4</sub><td>100<tr><td>vanilla<td>1 <sup>5</sup>&frasl;<sub>8</sub> tsp<td>± 3 <sup>1</sup>&frasl;<sub>8</sub><td>100</table><p>I used my standard techniques for baking to mix up the ingredients - first mixing wet and then adding dry ingredients and then baking for 10-15 minutes at 350F. They turned out to be much more like cake than cookies. Apparently there was too much baking powder and the ratio of liquid to dry ingredients was too high. They also tasted too sugary. They weren&rsquo;t bad, but they weren&rsquo;t great, so I think they would qualify as <em>average cookies</em>.<p><img src=/img/cookies.jpg alt="Average cookies I made from my code results"><p>I think part of the problem was that I had trouble converting ingredients to volumes for normalization. Some recipes dictate their recipes in &ldquo;grams&rdquo; or &ldquo;ounces&rdquo; which need to be converted to volume using the density. In this version I used a constant density for everything (0.9 g / ml) which was somewhat between the density for flour and water. However the density for flour (0.6 g / ml) is much lower than the density for water (1 g / ml) and butter (0.9 g / ml).<p>When I modified the densities, it indeed changed the flour to 1 <sup>3</sup>&frasl;<sub>4</sub> cup instead of 1 <sup>1</sup>&frasl;<sub>4</sub> cup, and reduced the variation from <sup>7</sup>&frasl;<sub>8</sub> cup to <sup>1</sup>&frasl;<sub>2</sub> cup. Next time I think I&rsquo;d like to make the biggest cluster - i.e. the most popular recipe, which doesn&rsquo;t use baking powder. Here&rsquo;s that recipe:<table><thead><tr><th>Ingredient<th>Amount<th>Variation<th>Rel. Freq.<tbody><tr><td>baking soda<td><sup>7</sup>&frasl;<sub>8</sub> tsp<td>± <sup>3</sup>&frasl;<sub>8</sub><td>97<tr><td>brown sugar<td><sup>3</sup>&frasl;<sub>4</sub> cup<td>± <sup>1</sup>&frasl;<sub>4</sub><td>91<tr><td>butter<td><sup>3</sup>&frasl;<sub>4</sub> cup<td>± <sup>3</sup>&frasl;<sub>8</sub><td>99<tr><td>chocolate<td>1 <sup>3</sup>&frasl;<sub>8</sub> cup<td>± <sup>5</sup>&frasl;<sub>8</sub><td>105<tr><td>eggs<td>2 whole<td>± <sup>1</sup>&frasl;<sub>2</sub><td>103<tr><td>flour<td>2 cup<td>± <sup>1</sup>&frasl;<sub>2</sub><td>96<tr><td>salt<td><sup>5</sup>&frasl;<sub>8</sub> tsp<td>± <sup>3</sup>&frasl;<sub>8</sub><td>89<tr><td>sugar<td><sup>1</sup>&frasl;<sub>2</sub> cup<td>± <sup>1</sup>&frasl;<sub>4</sub><td>94<tr><td>vanilla<td>1 <sup>1</sup>&frasl;<sub>4</sub> tsp<td>± 2 <sup>1</sup>&frasl;<sub>8</sub><td>98</table><p>In this case the flour seems a lot more reasonable too (2 cups). I&rsquo;d be interested in trying this recipe, instead.<p>If you&rsquo;d like to generate your own average recipes, check out <a href=https://github.com/schollz/consensus-cookery>the source on Github</a>.</div><br><div class=collapse tabindex=1><a id=commenttoggle href=#commentssection onclick="toggle_visibility('commentssection');">Show comments <span id=commentsnum></span></a><script>function toggle_visibility(id){var e=document.getElementById(id);if(e.style.display=='block'){e.style.display='none';document.getElementById("commenttoggle").innerText="Show comments";}else{e.style.display='block';document.getElementById("commenttoggle").innerText="Hide comments";}}</script><div id=commentssection style=display:none><hr><div id=comments></div><div class=guestbook-form><strong>Leave a comment:</strong>
<textarea rows=5 cols=75 id=message name=message class=guestbook></textarea><br><table style=margin-bottom:0><tr><td style=padding-right:10px><label for=name>Who are you?</label><td><input id=name class=guestbook size=40><tr><td style=padding-right:10px><label for=whourl>(optional URL)</label><td><input id=email class=guestbook size=40 type=url><tr><td><input class=guestbook-button type=button id=btn value=Submit></table></div><script>var serverURL="https:\/\/guestbook.schollz.com"
var btn=document.getElementById("btn");var guestbook=document.getElementById("comments");var firstMessage=0;function myCallback(acptlang){if(acptlang.Message!=""&&firstMessage==1){alert(acptlang.Message);firstMessage=1;}
guestbook.innerHTML="";if(acptlang.Entries.length>0){var commentsNum=document.getElementById("commentsnum");commentsNum.innerText="("+acptlang.Entries.length+")"}
for(var i=0;i<acptlang.Entries.length;i++){guestbook.innerHTML=guestbook.innerHTML+
`<div class="comment">
    <div class="entryid"> By ${acptlang.Entries[i].Name} on ${acptlang.Entries[i].DateString} in ${acptlang.Entries[i].Location}: </div>
    <blockquote> <div class="wikitext">${acptlang.Entries[i].Message}
    </div> </blockquote> </div>`}}
function jsonp(){guestbook.innerHTML="Loading ...";var tag=document.createElement("script");var message=encodeURIComponent(document.querySelector('#message').value);var name=encodeURIComponent(document.querySelector('#name').value);var email=encodeURIComponent(document.querySelector('#email').value);tag.src=`${serverURL}/jsonp?callback=myCallback&message=${message}&name=${name}&email=${name}`;document.querySelector("head").appendChild(tag);}
btn.addEventListener("click",jsonp);guestbook.innerHTML="Loading ...";var tag=document.createElement("script");var message=encodeURIComponent(document.querySelector('#message').value);var name=encodeURIComponent(document.querySelector('#name').value);var email=encodeURIComponent(document.querySelector('#email').value);tag.src=`${serverURL}/jsonp?callback=myCallback&message=${message}&name=${name}&email=${name}`;document.querySelector("head").appendChild(tag);</script></div><br></div><small>Written on <a href=/written/2018-03-23>23</a>
<a href=/written/2018-03>March</a>
<a href=/written/2018>2018</a>.
Categories:
<a href=/tags/food/>food</a>, <a href=/tags/coding/>coding</a>.</small><br><br><table border=0 width=100%><tr><td width=50% style=padding-right:.5em><table><tr><td>&laquo;<td><a href=/consensus-cookery/>Consensus cookery</a>&nbsp;</table><td width=50% style="padding-left:.5em;border-left:1px dotted"><table><tr><td><a href=/marathons-2018/ style=float:right>Analyzing 15 marathons over 4,000 days</a><td>&raquo;</table></table></div><div class=sidebar><div class=readme><div class=wikitext><p><a href=/>Full index of entries</a><p>Subjects:
<a href=/tags/bitcoin>bitcoin</a>&nbsp;
<a href=/tags/books>books</a>&nbsp;
<a href=/tags/brain>brain</a>&nbsp;
<a href=/tags/coding>coding</a>&nbsp;
<a href=/tags/food>food</a>&nbsp;
<a href=/tags/golang>golang</a>&nbsp;
<a href=/tags/painting>painting</a>&nbsp;
<a href=/tags/protein-folding>protein-folding</a>&nbsp;
<a href=/tags/running>running</a>&nbsp;
<a href=/tags/science>science</a>&nbsp;
<a href=/tags/thoughts>thoughts</a>&nbsp;
<a href=/tags/tools>tools</a>&nbsp;<p>Github:
<a href=https://github.com/schollz>@schollz</a><p>Twitter:
<a href=https://twitter.com/yakczar>@yakczar</a><p align=center>* * *<p id=quoteP><div class=sidesearch style=font-size:small><form onsubmit="location.href='/search/?s='+document.getElementById('myInput').value;return false;">Search:
<input id=myInput size=15></form></div><p><a href=/about>About</a>&nbsp;&middot;&nbsp;<a href=/index.xml>RSS feed</a></div></div></div></div></div>